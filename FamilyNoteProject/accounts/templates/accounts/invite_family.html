{% comment %} {% extends 'base.html' %}
{% block title %}家族招待URL - FamilyNote{% endblock %}
{% block content %}
<h3>～家族招待URLを発行してください～</h3>
<p>
    作成するをクリックし、リンク先URLを表示<br>
    招待したい家族へリンク先を共有し、<br>
    アカウントを登録してもらいましょう<br>
    ※発行されたURLは一度利用すると失効します。
</p>
<button id="generate-invite-btn">招待URLを発行</button>
<p id="invite-url"></p>

<script>
    document.getElementById("generate-invite-btn").addEventListener("click", function() {
        fetch("{% url 'accounts:generate_invite' %}")
        .then(response => response.json())
    .then(data => {
        if (data.invite_url) {
            document.getElementById("invite-url").textContent = "招待URL: " + data.invite_url;
        } else {
            alert("エラー: " + data.error);
        }
    })
    .catch(error => console.error("Error:", error));
});
</script>
{% endblock %} {% endcomment %}